window["CoordinateInfo"] =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/html-assets.ts":
/*!****************************!*\
  !*** ./src/html-assets.ts ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.template = \"<div tabindex=\\\"-2\\\"><ul class=\\\"rv-list\\\">\\n    <li>\\n        <strong>{{ 'plugins.coordInfo.coordSection' | translate }}</strong>\\n        <div class=\\\"rv-subsection\\\">\\n            <div>{{ 'plugins.coordInfo.coordDecimal' | translate }}</div>\\n            <div class=\\\"rv-subsection\\\">\\n            <div>{{ 'plugins.coordInfo.coordLat' | translate }}{pt.y}</div>\\n            <div>{{ 'plugins.coordInfo.coordLong' | translate }}{pt.x}</div>\\n            </div>\\n            <div>{{ 'plugins.coordInfo.coordDMS' | translate }}</div>\\n            <div class=\\\"rv-subsection\\\">\\n            <div>{{ 'plugins.coordInfo.coordLat' | translate }}{dms.y}</div>\\n            <div>{{ 'plugins.coordInfo.coordLong' | translate}}{dms.x}</div>\\n            </div>\\n        </div>\\n    </li>\\n    <li>\\n        <strong>{{ 'plugins.coordInfo.utmSection' | translate }}</strong>\\n        <div class=\\\"rv-subsection\\\">\\n            <div>{{ 'plugins.coordInfo.utmZone' | translate }}{zone}</div>\\n            <div>{{ 'plugins.coordInfo.utmEast' | translate }}{outPt.x}</div>\\n            <div>{{ 'plugins.coordInfo.utmNorth' | translate }}{outPt.y}</div>\\n        </div>\\n    </li>\\n    <li>\\n        <strong>{{ 'plugins.coordInfo.ntsSection' | translate }}</strong>\\n        <div class=\\\"rv-subsection\\\">\\n            <div>{nts250}</div>\\n            <div>{nts50}</div>\\n        </div>\\n    </li>\\n    <li>\\n        <strong>{{ 'plugins.coordInfo.altiSection' | translate }}</strong>\\n        <div class=\\\"rv-subsection\\\">{elevation} m</div>\\n    </li>\\n    {magSection}\\n</ul></div>\";\r\nexports.magSection = \"<li>\\n<strong>{{ 'plugins.coordInfo.magSection' | translate }}</strong>\\n<div class=\\\"rv-subsection\\\">\\n    <div>{{ 'plugins.coordInfo.magDate' | translate }}{date}</div>\\n    <div>{{ 'plugins.coordInfo.magDecli' | translate }}{magnetic}</div>\\n    <div>{{ 'plugins.coordInfo.magChange' | translate }}{annChange}</div>\\n    <div>{compass}</div>\\n</div>\\n</li>\";\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaHRtbC1hc3NldHMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db29yZGluYXRlSW5mby8uL3NyYy9odG1sLWFzc2V0cy50cz85MmEyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMudGVtcGxhdGUgPSBcIjxkaXYgdGFiaW5kZXg9XFxcIi0yXFxcIj48dWwgY2xhc3M9XFxcInJ2LWxpc3RcXFwiPlxcbiAgICA8bGk+XFxuICAgICAgICA8c3Ryb25nPnt7ICdwbHVnaW5zLmNvb3JkSW5mby5jb29yZFNlY3Rpb24nIHwgdHJhbnNsYXRlIH19PC9zdHJvbmc+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJydi1zdWJzZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICA8ZGl2Pnt7ICdwbHVnaW5zLmNvb3JkSW5mby5jb29yZERlY2ltYWwnIHwgdHJhbnNsYXRlIH19PC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicnYtc3Vic2VjdGlvblxcXCI+XFxuICAgICAgICAgICAgPGRpdj57eyAncGx1Z2lucy5jb29yZEluZm8uY29vcmRMYXQnIHwgdHJhbnNsYXRlIH19e3B0Lnl9PC9kaXY+XFxuICAgICAgICAgICAgPGRpdj57eyAncGx1Z2lucy5jb29yZEluZm8uY29vcmRMb25nJyB8IHRyYW5zbGF0ZSB9fXtwdC54fTwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXY+e3sgJ3BsdWdpbnMuY29vcmRJbmZvLmNvb3JkRE1TJyB8IHRyYW5zbGF0ZSB9fTwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInJ2LXN1YnNlY3Rpb25cXFwiPlxcbiAgICAgICAgICAgIDxkaXY+e3sgJ3BsdWdpbnMuY29vcmRJbmZvLmNvb3JkTGF0JyB8IHRyYW5zbGF0ZSB9fXtkbXMueX08L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2Pnt7ICdwbHVnaW5zLmNvb3JkSW5mby5jb29yZExvbmcnIHwgdHJhbnNsYXRlfX17ZG1zLnh9PC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9saT5cXG4gICAgPGxpPlxcbiAgICAgICAgPHN0cm9uZz57eyAncGx1Z2lucy5jb29yZEluZm8udXRtU2VjdGlvbicgfCB0cmFuc2xhdGUgfX08L3N0cm9uZz5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInJ2LXN1YnNlY3Rpb25cXFwiPlxcbiAgICAgICAgICAgIDxkaXY+e3sgJ3BsdWdpbnMuY29vcmRJbmZvLnV0bVpvbmUnIHwgdHJhbnNsYXRlIH19e3pvbmV9PC9kaXY+XFxuICAgICAgICAgICAgPGRpdj57eyAncGx1Z2lucy5jb29yZEluZm8udXRtRWFzdCcgfCB0cmFuc2xhdGUgfX17b3V0UHQueH08L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2Pnt7ICdwbHVnaW5zLmNvb3JkSW5mby51dG1Ob3J0aCcgfCB0cmFuc2xhdGUgfX17b3V0UHQueX08L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2xpPlxcbiAgICA8bGk+XFxuICAgICAgICA8c3Ryb25nPnt7ICdwbHVnaW5zLmNvb3JkSW5mby5udHNTZWN0aW9uJyB8IHRyYW5zbGF0ZSB9fTwvc3Ryb25nPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicnYtc3Vic2VjdGlvblxcXCI+XFxuICAgICAgICAgICAgPGRpdj57bnRzMjUwfTwvZGl2PlxcbiAgICAgICAgICAgIDxkaXY+e250czUwfTwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvbGk+XFxuICAgIDxsaT5cXG4gICAgICAgIDxzdHJvbmc+e3sgJ3BsdWdpbnMuY29vcmRJbmZvLmFsdGlTZWN0aW9uJyB8IHRyYW5zbGF0ZSB9fTwvc3Ryb25nPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicnYtc3Vic2VjdGlvblxcXCI+e2VsZXZhdGlvbn0gbTwvZGl2PlxcbiAgICA8L2xpPlxcbiAgICB7bWFnU2VjdGlvbn1cXG48L3VsPjwvZGl2PlwiO1xyXG5leHBvcnRzLm1hZ1NlY3Rpb24gPSBcIjxsaT5cXG48c3Ryb25nPnt7ICdwbHVnaW5zLmNvb3JkSW5mby5tYWdTZWN0aW9uJyB8IHRyYW5zbGF0ZSB9fTwvc3Ryb25nPlxcbjxkaXYgY2xhc3M9XFxcInJ2LXN1YnNlY3Rpb25cXFwiPlxcbiAgICA8ZGl2Pnt7ICdwbHVnaW5zLmNvb3JkSW5mby5tYWdEYXRlJyB8IHRyYW5zbGF0ZSB9fXtkYXRlfTwvZGl2PlxcbiAgICA8ZGl2Pnt7ICdwbHVnaW5zLmNvb3JkSW5mby5tYWdEZWNsaScgfCB0cmFuc2xhdGUgfX17bWFnbmV0aWN9PC9kaXY+XFxuICAgIDxkaXY+e3sgJ3BsdWdpbnMuY29vcmRJbmZvLm1hZ0NoYW5nZScgfCB0cmFuc2xhdGUgfX17YW5uQ2hhbmdlfTwvZGl2PlxcbiAgICA8ZGl2Pntjb21wYXNzfTwvZGl2PlxcbjwvZGl2PlxcbjwvbGk+XCI7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/html-assets.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar html_assets_1 = __webpack_require__(/*! ./html-assets */ \"./src/html-assets.ts\");\r\nvar CoordInfo = /** @class */ (function () {\r\n    function CoordInfo() {\r\n        this.urls = {\r\n            nts: 'https://geogratis.gc.ca/services/delimitation/en/nts?',\r\n            utm: 'https://geogratis.gc.ca/services/delimitation/en/utmzone?',\r\n            alti: 'https://geogratis.gc.ca/services/elevation/cdem/altitude?',\r\n            decli: 'https://geomag.nrcan.gc.ca/service/tools/magnetic/calculator/?'\r\n        };\r\n    }\r\n    CoordInfo.prototype.init = function (api) {\r\n        this.api = api;\r\n        this.button = this.api.mapI.addPluginButton(CoordInfo.prototype.translations[this._RV.getCurrentLang()].coordButtonLabel, this.onMenuItemClick());\r\n        // check to see if this init is due to projection change or language switch\r\n        var activeNode = this.api.mapDiv[0].getAttributeNode('coord-info-active');\r\n        if (activeNode !== null) {\r\n            this.api.layers.identifyMode = 'none';\r\n            // if coordinate info was active, turn it on again\r\n            if (this.panel !== undefined) {\r\n                // destroy old panel so that new one gets created\r\n                this.panel.close({ destroy: true });\r\n                this.panel = undefined;\r\n            }\r\n            this.toggleActive();\r\n        }\r\n    };\r\n    /**\r\n     * Returns a function to be executed when the map is clicked.\r\n     *\r\n     * @function  onMenuItemClick\r\n     * @return  {Function}    Callback to be executed when map is clicked\r\n     */\r\n    CoordInfo.prototype.onMenuItemClick = function () {\r\n        var _this = this;\r\n        var identifySetting;\r\n        return function () {\r\n            _this._RV.toggleSideNav('close');\r\n            // only set event if not already created\r\n            if (typeof _this.handler === 'undefined') {\r\n                // activate coordInfo crosshairs, store current identify value\r\n                identifySetting = _this.toggleActive();\r\n                //set coord-info-active attr on map\r\n                var activeNode = document.createAttribute('coord-info-active');\r\n                _this.api.mapDiv[0].setAttributeNode(activeNode);\r\n            }\r\n            else {\r\n                // remove the click handler and set the cursor\r\n                _this.handler.unsubscribe();\r\n                _this.handler = undefined;\r\n                _this._RV.setMapCursor('');\r\n                // set inactive (unchecked) in the side menu\r\n                _this.button.isActive = false;\r\n                // reset identify value to stored value\r\n                _this.api.layers.identifyMode = identifySetting;\r\n                //remove coord-info-active attr on map\r\n                var activeNode = _this.api.mapDiv[0].getAttributeNode('coord-info-active');\r\n                _this.api.mapDiv[0].removeAttributeNode(activeNode);\r\n            }\r\n        };\r\n    };\r\n    /**\r\n     * Helper method to init and toggleMenuItem on click.\r\n     * Activates coordInfo crosshairs and menu checkmark.\r\n     */\r\n    CoordInfo.prototype.toggleActive = function () {\r\n        var _this = this;\r\n        this.handler = this.api.click.subscribe(function (clickEvent) { return _this.clickHandler(clickEvent); });\r\n        // set active (checked) in the side menu\r\n        this.button.isActive = true;\r\n        // set cursor\r\n        this._RV.setMapCursor('crosshair');\r\n        // return current identify value and then disable in viewer\r\n        var identifySetting = this.api.layers.identifyMode;\r\n        this.api.layers.identifyMode = 'none';\r\n        return identifySetting;\r\n    };\r\n    /**\r\n     * Manage callback when the map is clicked.\r\n     *\r\n     * @function  clickHandler\r\n     * @param  {Object}  clickEvent the map click event\r\n     */\r\n    CoordInfo.prototype.clickHandler = function (clickEvent) {\r\n        var _this = this;\r\n        // get current language\r\n        var lang = this._RV.getCurrentLang();\r\n        // get point in lat/long\r\n        var pt = clickEvent.xy; //this._RV.projectGeometry(clickEvent.mapPoint, 4326);\r\n        pt.spatialReference = 4326;\r\n        // get point in dms\r\n        var dms = this._RV.convertDDToDMS(pt.y, pt.x);\r\n        // todays date for magnetic declination\r\n        var date = new Date().toISOString().substr(0, 10);\r\n        // get info from services (nts, utm zone, altimetry and magnetic declination)\r\n        var promises = [];\r\n        promises.push(new Promise(function (resolve) {\r\n            $.ajax({\r\n                url: _this.urls.nts,\r\n                cache: false,\r\n                data: { bbox: pt.x + \",\" + pt.y + \",\" + pt.x + \",\" + pt.y },\r\n                dataType: 'jsonp',\r\n                success: function (data) { return resolve(_this.parseNTS(data.features)); }\r\n            });\r\n        }));\r\n        promises.push(new Promise(function (resolve) {\r\n            $.ajax({\r\n                url: _this.urls.utm,\r\n                cache: false,\r\n                data: { bbox: pt.x + \",\" + pt.y + \",\" + pt.x + \",\" + pt.y },\r\n                dataType: 'jsonp',\r\n                success: function (data) { return resolve(_this.parseUtm(data.features, pt)); }\r\n            });\r\n        }));\r\n        promises.push(new Promise(function (resolve) {\r\n            $.ajax({\r\n                url: _this.urls.alti,\r\n                cache: false,\r\n                data: { lat: pt.y, lon: pt.x },\r\n                dataType: 'jsonp',\r\n                success: function (data) { return resolve(data.altitude !== null ? data.altitude : 0); }\r\n            });\r\n        }));\r\n        promises.push(new Promise(function (resolve) {\r\n            $.ajax({\r\n                url: _this.urls.decli,\r\n                cache: true,\r\n                data: { latitude: pt.y, longitude: pt.x, date: date, format: 'json' },\r\n                dataType: 'jsonp',\r\n                success: function (data) { return resolve(_this.parseDecli(data, lang)); },\r\n                error: function () {\r\n                    resolve(undefined);\r\n                }\r\n            });\r\n        }));\r\n        // wait for all promises to resolve then show info\r\n        Promise.all(promises).then(function (values) {\r\n            _this.generateOutput(values, pt, dms, date);\r\n        });\r\n    };\r\n    /**\r\n     * Generate dialog window content.\r\n     *\r\n     * @function  generateOutput\r\n     * @param  {Array}  val the array of response from the promises\r\n     * @param {Object}  pt  the point in decimal degree\r\n     * @param {Object}  dms the point in degree minute second\r\n     * @param {String}  date the today's date\r\n     */\r\n    CoordInfo.prototype.generateOutput = function (val, pt, dms, date) {\r\n        var output = html_assets_1.template\r\n            // coord\r\n            .replace(/{pt.y}/, pt.y.toFixed(6))\r\n            .replace(/{pt.x}/, pt.x.toFixed(6))\r\n            .replace(/{dms.y}/, dms.y)\r\n            .replace(/{dms.x}/, dms.x)\r\n            // utm\r\n            .replace(/{zone}/, val[1].zone)\r\n            .replace(/{outPt.x}/, val[1].outPt.x)\r\n            .replace(/{outPt.y}/, val[1].outPt.y)\r\n            // nts\r\n            .replace(/{nts250}/, val[0].nts250)\r\n            .replace(/{nts50}/, val[0].nts50)\r\n            // alti\r\n            .replace(/{elevation}/, val[2]);\r\n        // magnetic declination service is only available in http\r\n        // the server seems to also have a tendency to throw 500s\r\n        if (val[3]) {\r\n            var magOutput = html_assets_1.magSection\r\n                .replace(/{date}/, date)\r\n                .replace(/{magnetic}/, val[3].magnetic)\r\n                .replace(/{annChange}/, val[3].annChange)\r\n                .replace(/{compass}/, val[3].compass);\r\n            output = output.replace(/{magSection}/, magOutput);\r\n        }\r\n        else {\r\n            output = output.replace(/{magSection}/, '');\r\n        }\r\n        if (!this.panel) {\r\n            // make sure both header and body have a digest cycle run on them\r\n            this.panel = this.api.panels.create('coord-info');\r\n            this.panel.element.css({\r\n                bottom: '0em',\r\n                width: '400px'\r\n            });\r\n            this.panel.element.addClass('mobile-fullscreen');\r\n            var closeBtn = this.panel.header.closeButton;\r\n            this.panel.header.title = \"plugins.coordInfo.coordButtonLabel\";\r\n        }\r\n        else {\r\n            this.panel.close();\r\n        }\r\n        this.panel.body = output;\r\n        this.panel.open();\r\n    };\r\n    /**\r\n     * Parse NTS answer from the service to generate content.\r\n     *\r\n     * @function  parseNTS\r\n     * @param  {Object}  nts the answer from the service\r\n     * @return {Object}   the nts information (nts250 {String} 250k nts name, nts50 {String} 50k nts name)\r\n     */\r\n    CoordInfo.prototype.parseNTS = function (nts) {\r\n        // set 250k\r\n        var nts250 = nts.length > 0 ? nts[0].properties.identifier + \"-\" + nts[0].properties.name : '';\r\n        // set 50k\r\n        var nts50 = nts.length > 1 ? nts[1].properties.identifier + \"-\" + nts[1].properties.name : '';\r\n        return { nts250: nts250, nts50: nts50 };\r\n    };\r\n    /**\r\n     * Parse UTM answer from the service to generate content.\r\n     *\r\n     * @function  parseUtm\r\n     * @param  {Object}  utm the answer from the service\r\n     * @param  {Object}  pt the point to reproject\r\n     * @return {Object}   the utm information (zone {String} utm zone, x {Number} Easting, y {Number} Northing)\r\n     */\r\n    CoordInfo.prototype.parseUtm = function (utm, pt) {\r\n        if (utm.length === 0) {\r\n            return { zone: 'Error', outPt: { x: '-', y: '-' } };\r\n        }\r\n        // set zone\r\n        var zone = utm[0].properties.identifier;\r\n        if (zone < 10) {\r\n            zone = \"0\" + zone;\r\n        }\r\n        // set the UTM easting/northing information using a geometry service\r\n        var outPt = this._RV.projectGeometry(pt, parseInt('326' + zone));\r\n        return { zone: zone, outPt: { x: outPt.x, y: outPt.y } };\r\n    };\r\n    /**\r\n     * Parse declination answer from the service to generate content.\r\n     *\r\n     * @function  parseDecli\r\n     * @param  {Object}  decli the answer from the service\r\n     * @param  {String}  lang the current language\r\n     * @return {Object}   the declination information (magnetic {String} magnetic declination, annChange {Number} Annual change, compass {String} Compass information)\r\n     */\r\n    CoordInfo.prototype.parseDecli = function (decli, lang) {\r\n        /* jshint -W106 */\r\n        /* jscs:disable requireCamelCaseOrUpperCaseIdentifiers */\r\n        var magnetic = decli.components.D !== null ? \"\" + decli.components.D + String.fromCharCode(176) : '---';\r\n        var annChange = decli.annual_change.dD !== null ? decli.annual_change.dD : '---';\r\n        var compass = decli.compass !== 'useless' ? '' : CoordInfo.prototype.translations[lang].plugin.coordInfo.magCompassOut;\r\n        return { magnetic: magnetic, annChange: annChange, compass: compass };\r\n    };\r\n    return CoordInfo;\r\n}());\r\nCoordInfo.prototype.translations = {\r\n    'en-CA': {\r\n        coordButtonLabel: 'Coords Info',\r\n        title: 'Map location information',\r\n        coordSection: 'Geographic Coordinates',\r\n        coordLat: 'Latitude: ',\r\n        coordLong: 'Longitude: ',\r\n        coordDecimal: 'Degrees Decimal: ',\r\n        coordDMS: 'Degrees Minutes Seconds (DMS): ',\r\n        utmSection: 'UTM Coordinates',\r\n        utmZone: 'Zone: ',\r\n        utmEast: 'Easting: ',\r\n        utmNorth: 'Northing: ',\r\n        ntsSection: 'NTS Mapsheet',\r\n        altiSection: 'Elevation',\r\n        magSection: 'Magnetic declination',\r\n        magDate: 'Date: ',\r\n        magDecli: 'Magnetic declination (DD): ',\r\n        magChange: 'Annual change (minutes/year): ',\r\n        magDecliOut: '-WARNING- Out of scope.',\r\n        magCompassOut: '-WARNING- Compass erratic for this coordinate.'\r\n    },\r\n    'fr-CA': {\r\n        coordButtonLabel: 'Info coords',\r\n        title: 'Information de localisation sur la carte',\r\n        coordSection: 'Coordonnées géographiques',\r\n        coordLat: 'Latitude : ',\r\n        coordLong: 'Longitude : ',\r\n        coordDecimal: 'Degrés décimaux : ',\r\n        coordDMS: 'Degrés minutes secondes (DMS) : ',\r\n        utmSection: 'Coordonnées UTM',\r\n        utmZone: 'Zone : ',\r\n        utmEast: 'Abscisse : ',\r\n        utmNorth: 'Ordonnée : ',\r\n        ntsSection: 'Carte du SNRC',\r\n        altiSection: 'Élévation',\r\n        magSection: 'Déclinaison magnétique',\r\n        magDate: 'Date : ',\r\n        magDecli: 'Déclinaison magnétique (DD) : ',\r\n        magChange: 'Changement annuel (minutes/année) : ',\r\n        magDecliOut: '-ATTENTION- Hors de portée.',\r\n        magCompassOut: '-ATTENTION- Boussole peu fiable pour cette coordonnée.'\r\n    }\r\n};\r\nwindow.coordInfo = CoordInfo;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db29yZGluYXRlSW5mby8uL3NyYy9pbmRleC50cz82Mjc2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBodG1sX2Fzc2V0c18xID0gcmVxdWlyZShcIi4vaHRtbC1hc3NldHNcIik7XHJcbnZhciBDb29yZEluZm8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb29yZEluZm8oKSB7XHJcbiAgICAgICAgdGhpcy51cmxzID0ge1xyXG4gICAgICAgICAgICBudHM6ICdodHRwczovL2dlb2dyYXRpcy5nYy5jYS9zZXJ2aWNlcy9kZWxpbWl0YXRpb24vZW4vbnRzPycsXHJcbiAgICAgICAgICAgIHV0bTogJ2h0dHBzOi8vZ2VvZ3JhdGlzLmdjLmNhL3NlcnZpY2VzL2RlbGltaXRhdGlvbi9lbi91dG16b25lPycsXHJcbiAgICAgICAgICAgIGFsdGk6ICdodHRwczovL2dlb2dyYXRpcy5nYy5jYS9zZXJ2aWNlcy9lbGV2YXRpb24vY2RlbS9hbHRpdHVkZT8nLFxyXG4gICAgICAgICAgICBkZWNsaTogJ2h0dHBzOi8vZ2VvbWFnLm5yY2FuLmdjLmNhL3NlcnZpY2UvdG9vbHMvbWFnbmV0aWMvY2FsY3VsYXRvci8/J1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBDb29yZEluZm8ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoYXBpKSB7XHJcbiAgICAgICAgdGhpcy5hcGkgPSBhcGk7XHJcbiAgICAgICAgdGhpcy5idXR0b24gPSB0aGlzLmFwaS5tYXBJLmFkZFBsdWdpbkJ1dHRvbihDb29yZEluZm8ucHJvdG90eXBlLnRyYW5zbGF0aW9uc1t0aGlzLl9SVi5nZXRDdXJyZW50TGFuZygpXS5jb29yZEJ1dHRvbkxhYmVsLCB0aGlzLm9uTWVudUl0ZW1DbGljaygpKTtcclxuICAgICAgICAvLyBjaGVjayB0byBzZWUgaWYgdGhpcyBpbml0IGlzIGR1ZSB0byBwcm9qZWN0aW9uIGNoYW5nZSBvciBsYW5ndWFnZSBzd2l0Y2hcclxuICAgICAgICB2YXIgYWN0aXZlTm9kZSA9IHRoaXMuYXBpLm1hcERpdlswXS5nZXRBdHRyaWJ1dGVOb2RlKCdjb29yZC1pbmZvLWFjdGl2ZScpO1xyXG4gICAgICAgIGlmIChhY3RpdmVOb2RlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBpLmxheWVycy5pZGVudGlmeU1vZGUgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIC8vIGlmIGNvb3JkaW5hdGUgaW5mbyB3YXMgYWN0aXZlLCB0dXJuIGl0IG9uIGFnYWluXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhbmVsICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGRlc3Ryb3kgb2xkIHBhbmVsIHNvIHRoYXQgbmV3IG9uZSBnZXRzIGNyZWF0ZWRcclxuICAgICAgICAgICAgICAgIHRoaXMucGFuZWwuY2xvc2UoeyBkZXN0cm95OiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYW5lbCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUFjdGl2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCB3aGVuIHRoZSBtYXAgaXMgY2xpY2tlZC5cclxuICAgICAqXHJcbiAgICAgKiBAZnVuY3Rpb24gIG9uTWVudUl0ZW1DbGlja1xyXG4gICAgICogQHJldHVybiAge0Z1bmN0aW9ufSAgICBDYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuIG1hcCBpcyBjbGlja2VkXHJcbiAgICAgKi9cclxuICAgIENvb3JkSW5mby5wcm90b3R5cGUub25NZW51SXRlbUNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGlkZW50aWZ5U2V0dGluZztcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5fUlYudG9nZ2xlU2lkZU5hdignY2xvc2UnKTtcclxuICAgICAgICAgICAgLy8gb25seSBzZXQgZXZlbnQgaWYgbm90IGFscmVhZHkgY3JlYXRlZFxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzLmhhbmRsZXIgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhY3RpdmF0ZSBjb29yZEluZm8gY3Jvc3NoYWlycywgc3RvcmUgY3VycmVudCBpZGVudGlmeSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgaWRlbnRpZnlTZXR0aW5nID0gX3RoaXMudG9nZ2xlQWN0aXZlKCk7XHJcbiAgICAgICAgICAgICAgICAvL3NldCBjb29yZC1pbmZvLWFjdGl2ZSBhdHRyIG9uIG1hcFxyXG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoJ2Nvb3JkLWluZm8tYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hcGkubWFwRGl2WzBdLnNldEF0dHJpYnV0ZU5vZGUoYWN0aXZlTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIGNsaWNrIGhhbmRsZXIgYW5kIHNldCB0aGUgY3Vyc29yXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVyLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX1JWLnNldE1hcEN1cnNvcignJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgaW5hY3RpdmUgKHVuY2hlY2tlZCkgaW4gdGhlIHNpZGUgbWVudVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuYnV0dG9uLmlzQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvLyByZXNldCBpZGVudGlmeSB2YWx1ZSB0byBzdG9yZWQgdmFsdWVcclxuICAgICAgICAgICAgICAgIF90aGlzLmFwaS5sYXllcnMuaWRlbnRpZnlNb2RlID0gaWRlbnRpZnlTZXR0aW5nO1xyXG4gICAgICAgICAgICAgICAgLy9yZW1vdmUgY29vcmQtaW5mby1hY3RpdmUgYXR0ciBvbiBtYXBcclxuICAgICAgICAgICAgICAgIHZhciBhY3RpdmVOb2RlID0gX3RoaXMuYXBpLm1hcERpdlswXS5nZXRBdHRyaWJ1dGVOb2RlKCdjb29yZC1pbmZvLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYXBpLm1hcERpdlswXS5yZW1vdmVBdHRyaWJ1dGVOb2RlKGFjdGl2ZU5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gaW5pdCBhbmQgdG9nZ2xlTWVudUl0ZW0gb24gY2xpY2suXHJcbiAgICAgKiBBY3RpdmF0ZXMgY29vcmRJbmZvIGNyb3NzaGFpcnMgYW5kIG1lbnUgY2hlY2ttYXJrLlxyXG4gICAgICovXHJcbiAgICBDb29yZEluZm8ucHJvdG90eXBlLnRvZ2dsZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlciA9IHRoaXMuYXBpLmNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoY2xpY2tFdmVudCkgeyByZXR1cm4gX3RoaXMuY2xpY2tIYW5kbGVyKGNsaWNrRXZlbnQpOyB9KTtcclxuICAgICAgICAvLyBzZXQgYWN0aXZlIChjaGVja2VkKSBpbiB0aGUgc2lkZSBtZW51XHJcbiAgICAgICAgdGhpcy5idXR0b24uaXNBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIC8vIHNldCBjdXJzb3JcclxuICAgICAgICB0aGlzLl9SVi5zZXRNYXBDdXJzb3IoJ2Nyb3NzaGFpcicpO1xyXG4gICAgICAgIC8vIHJldHVybiBjdXJyZW50IGlkZW50aWZ5IHZhbHVlIGFuZCB0aGVuIGRpc2FibGUgaW4gdmlld2VyXHJcbiAgICAgICAgdmFyIGlkZW50aWZ5U2V0dGluZyA9IHRoaXMuYXBpLmxheWVycy5pZGVudGlmeU1vZGU7XHJcbiAgICAgICAgdGhpcy5hcGkubGF5ZXJzLmlkZW50aWZ5TW9kZSA9ICdub25lJztcclxuICAgICAgICByZXR1cm4gaWRlbnRpZnlTZXR0aW5nO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTWFuYWdlIGNhbGxiYWNrIHdoZW4gdGhlIG1hcCBpcyBjbGlja2VkLlxyXG4gICAgICpcclxuICAgICAqIEBmdW5jdGlvbiAgY2xpY2tIYW5kbGVyXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBjbGlja0V2ZW50IHRoZSBtYXAgY2xpY2sgZXZlbnRcclxuICAgICAqL1xyXG4gICAgQ29vcmRJbmZvLnByb3RvdHlwZS5jbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoY2xpY2tFdmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gZ2V0IGN1cnJlbnQgbGFuZ3VhZ2VcclxuICAgICAgICB2YXIgbGFuZyA9IHRoaXMuX1JWLmdldEN1cnJlbnRMYW5nKCk7XHJcbiAgICAgICAgLy8gZ2V0IHBvaW50IGluIGxhdC9sb25nXHJcbiAgICAgICAgdmFyIHB0ID0gY2xpY2tFdmVudC54eTsgLy90aGlzLl9SVi5wcm9qZWN0R2VvbWV0cnkoY2xpY2tFdmVudC5tYXBQb2ludCwgNDMyNik7XHJcbiAgICAgICAgcHQuc3BhdGlhbFJlZmVyZW5jZSA9IDQzMjY7XHJcbiAgICAgICAgLy8gZ2V0IHBvaW50IGluIGRtc1xyXG4gICAgICAgIHZhciBkbXMgPSB0aGlzLl9SVi5jb252ZXJ0RERUb0RNUyhwdC55LCBwdC54KTtcclxuICAgICAgICAvLyB0b2RheXMgZGF0ZSBmb3IgbWFnbmV0aWMgZGVjbGluYXRpb25cclxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApO1xyXG4gICAgICAgIC8vIGdldCBpbmZvIGZyb20gc2VydmljZXMgKG50cywgdXRtIHpvbmUsIGFsdGltZXRyeSBhbmQgbWFnbmV0aWMgZGVjbGluYXRpb24pXHJcbiAgICAgICAgdmFyIHByb21pc2VzID0gW107XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaChuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBfdGhpcy51cmxzLm50cyxcclxuICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHsgYmJveDogcHQueCArIFwiLFwiICsgcHQueSArIFwiLFwiICsgcHQueCArIFwiLFwiICsgcHQueSB9LFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29ucCcsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gcmVzb2x2ZShfdGhpcy5wYXJzZU5UUyhkYXRhLmZlYXR1cmVzKSk7IH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHByb21pc2VzLnB1c2gobmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogX3RoaXMudXJscy51dG0sXHJcbiAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGJib3g6IHB0LnggKyBcIixcIiArIHB0LnkgKyBcIixcIiArIHB0LnggKyBcIixcIiArIHB0LnkgfSxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIHJlc29sdmUoX3RoaXMucGFyc2VVdG0oZGF0YS5mZWF0dXJlcywgcHQpKTsgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcHJvbWlzZXMucHVzaChuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBfdGhpcy51cmxzLmFsdGksXHJcbiAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGxhdDogcHQueSwgbG9uOiBwdC54IH0sXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiByZXNvbHZlKGRhdGEuYWx0aXR1ZGUgIT09IG51bGwgPyBkYXRhLmFsdGl0dWRlIDogMCk7IH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHByb21pc2VzLnB1c2gobmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogX3RoaXMudXJscy5kZWNsaSxcclxuICAgICAgICAgICAgICAgIGNhY2hlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogeyBsYXRpdHVkZTogcHQueSwgbG9uZ2l0dWRlOiBwdC54LCBkYXRlOiBkYXRlLCBmb3JtYXQ6ICdqc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29ucCcsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkgeyByZXR1cm4gcmVzb2x2ZShfdGhpcy5wYXJzZURlY2xpKGRhdGEsIGxhbmcpKTsgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgLy8gd2FpdCBmb3IgYWxsIHByb21pc2VzIHRvIHJlc29sdmUgdGhlbiBzaG93IGluZm9cclxuICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAodmFsdWVzKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmdlbmVyYXRlT3V0cHV0KHZhbHVlcywgcHQsIGRtcywgZGF0ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBkaWFsb2cgd2luZG93IGNvbnRlbnQuXHJcbiAgICAgKlxyXG4gICAgICogQGZ1bmN0aW9uICBnZW5lcmF0ZU91dHB1dFxyXG4gICAgICogQHBhcmFtICB7QXJyYXl9ICB2YWwgdGhlIGFycmF5IG9mIHJlc3BvbnNlIGZyb20gdGhlIHByb21pc2VzXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gIHB0ICB0aGUgcG9pbnQgaW4gZGVjaW1hbCBkZWdyZWVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAgZG1zIHRoZSBwb2ludCBpbiBkZWdyZWUgbWludXRlIHNlY29uZFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICBkYXRlIHRoZSB0b2RheSdzIGRhdGVcclxuICAgICAqL1xyXG4gICAgQ29vcmRJbmZvLnByb3RvdHlwZS5nZW5lcmF0ZU91dHB1dCA9IGZ1bmN0aW9uICh2YWwsIHB0LCBkbXMsIGRhdGUpIHtcclxuICAgICAgICB2YXIgb3V0cHV0ID0gaHRtbF9hc3NldHNfMS50ZW1wbGF0ZVxyXG4gICAgICAgICAgICAvLyBjb29yZFxyXG4gICAgICAgICAgICAucmVwbGFjZSgve3B0Lnl9LywgcHQueS50b0ZpeGVkKDYpKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgve3B0Lnh9LywgcHQueC50b0ZpeGVkKDYpKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgve2Rtcy55fS8sIGRtcy55KVxyXG4gICAgICAgICAgICAucmVwbGFjZSgve2Rtcy54fS8sIGRtcy54KVxyXG4gICAgICAgICAgICAvLyB1dG1cclxuICAgICAgICAgICAgLnJlcGxhY2UoL3t6b25lfS8sIHZhbFsxXS56b25lKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgve291dFB0Lnh9LywgdmFsWzFdLm91dFB0LngpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC97b3V0UHQueX0vLCB2YWxbMV0ub3V0UHQueSlcclxuICAgICAgICAgICAgLy8gbnRzXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC97bnRzMjUwfS8sIHZhbFswXS5udHMyNTApXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC97bnRzNTB9LywgdmFsWzBdLm50czUwKVxyXG4gICAgICAgICAgICAvLyBhbHRpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC97ZWxldmF0aW9ufS8sIHZhbFsyXSk7XHJcbiAgICAgICAgLy8gbWFnbmV0aWMgZGVjbGluYXRpb24gc2VydmljZSBpcyBvbmx5IGF2YWlsYWJsZSBpbiBodHRwXHJcbiAgICAgICAgLy8gdGhlIHNlcnZlciBzZWVtcyB0byBhbHNvIGhhdmUgYSB0ZW5kZW5jeSB0byB0aHJvdyA1MDBzXHJcbiAgICAgICAgaWYgKHZhbFszXSkge1xyXG4gICAgICAgICAgICB2YXIgbWFnT3V0cHV0ID0gaHRtbF9hc3NldHNfMS5tYWdTZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgve2RhdGV9LywgZGF0ZSlcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC97bWFnbmV0aWN9LywgdmFsWzNdLm1hZ25ldGljKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL3thbm5DaGFuZ2V9LywgdmFsWzNdLmFubkNoYW5nZSlcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC97Y29tcGFzc30vLCB2YWxbM10uY29tcGFzcyk7XHJcbiAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKC97bWFnU2VjdGlvbn0vLCBtYWdPdXRwdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL3ttYWdTZWN0aW9ufS8sICcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhbmVsKSB7XHJcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBib3RoIGhlYWRlciBhbmQgYm9keSBoYXZlIGEgZGlnZXN0IGN5Y2xlIHJ1biBvbiB0aGVtXHJcbiAgICAgICAgICAgIHRoaXMucGFuZWwgPSB0aGlzLmFwaS5wYW5lbHMuY3JlYXRlKCdjb29yZC1pbmZvJyk7XHJcbiAgICAgICAgICAgIHRoaXMucGFuZWwuZWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgYm90dG9tOiAnMGVtJyxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAnNDAwcHgnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsLmVsZW1lbnQuYWRkQ2xhc3MoJ21vYmlsZS1mdWxsc2NyZWVuJyk7XHJcbiAgICAgICAgICAgIHZhciBjbG9zZUJ0biA9IHRoaXMucGFuZWwuaGVhZGVyLmNsb3NlQnV0dG9uO1xyXG4gICAgICAgICAgICB0aGlzLnBhbmVsLmhlYWRlci50aXRsZSA9IFwicGx1Z2lucy5jb29yZEluZm8uY29vcmRCdXR0b25MYWJlbFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYW5lbC5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhbmVsLmJvZHkgPSBvdXRwdXQ7XHJcbiAgICAgICAgdGhpcy5wYW5lbC5vcGVuKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZSBOVFMgYW5zd2VyIGZyb20gdGhlIHNlcnZpY2UgdG8gZ2VuZXJhdGUgY29udGVudC5cclxuICAgICAqXHJcbiAgICAgKiBAZnVuY3Rpb24gIHBhcnNlTlRTXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBudHMgdGhlIGFuc3dlciBmcm9tIHRoZSBzZXJ2aWNlXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgdGhlIG50cyBpbmZvcm1hdGlvbiAobnRzMjUwIHtTdHJpbmd9IDI1MGsgbnRzIG5hbWUsIG50czUwIHtTdHJpbmd9IDUwayBudHMgbmFtZSlcclxuICAgICAqL1xyXG4gICAgQ29vcmRJbmZvLnByb3RvdHlwZS5wYXJzZU5UUyA9IGZ1bmN0aW9uIChudHMpIHtcclxuICAgICAgICAvLyBzZXQgMjUwa1xyXG4gICAgICAgIHZhciBudHMyNTAgPSBudHMubGVuZ3RoID4gMCA/IG50c1swXS5wcm9wZXJ0aWVzLmlkZW50aWZpZXIgKyBcIi1cIiArIG50c1swXS5wcm9wZXJ0aWVzLm5hbWUgOiAnJztcclxuICAgICAgICAvLyBzZXQgNTBrXHJcbiAgICAgICAgdmFyIG50czUwID0gbnRzLmxlbmd0aCA+IDEgPyBudHNbMV0ucHJvcGVydGllcy5pZGVudGlmaWVyICsgXCItXCIgKyBudHNbMV0ucHJvcGVydGllcy5uYW1lIDogJyc7XHJcbiAgICAgICAgcmV0dXJuIHsgbnRzMjUwOiBudHMyNTAsIG50czUwOiBudHM1MCB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUGFyc2UgVVRNIGFuc3dlciBmcm9tIHRoZSBzZXJ2aWNlIHRvIGdlbmVyYXRlIGNvbnRlbnQuXHJcbiAgICAgKlxyXG4gICAgICogQGZ1bmN0aW9uICBwYXJzZVV0bVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgdXRtIHRoZSBhbnN3ZXIgZnJvbSB0aGUgc2VydmljZVxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgcHQgdGhlIHBvaW50IHRvIHJlcHJvamVjdFxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAgIHRoZSB1dG0gaW5mb3JtYXRpb24gKHpvbmUge1N0cmluZ30gdXRtIHpvbmUsIHgge051bWJlcn0gRWFzdGluZywgeSB7TnVtYmVyfSBOb3J0aGluZylcclxuICAgICAqL1xyXG4gICAgQ29vcmRJbmZvLnByb3RvdHlwZS5wYXJzZVV0bSA9IGZ1bmN0aW9uICh1dG0sIHB0KSB7XHJcbiAgICAgICAgaWYgKHV0bS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgem9uZTogJ0Vycm9yJywgb3V0UHQ6IHsgeDogJy0nLCB5OiAnLScgfSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZXQgem9uZVxyXG4gICAgICAgIHZhciB6b25lID0gdXRtWzBdLnByb3BlcnRpZXMuaWRlbnRpZmllcjtcclxuICAgICAgICBpZiAoem9uZSA8IDEwKSB7XHJcbiAgICAgICAgICAgIHpvbmUgPSBcIjBcIiArIHpvbmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldCB0aGUgVVRNIGVhc3Rpbmcvbm9ydGhpbmcgaW5mb3JtYXRpb24gdXNpbmcgYSBnZW9tZXRyeSBzZXJ2aWNlXHJcbiAgICAgICAgdmFyIG91dFB0ID0gdGhpcy5fUlYucHJvamVjdEdlb21ldHJ5KHB0LCBwYXJzZUludCgnMzI2JyArIHpvbmUpKTtcclxuICAgICAgICByZXR1cm4geyB6b25lOiB6b25lLCBvdXRQdDogeyB4OiBvdXRQdC54LCB5OiBvdXRQdC55IH0gfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlIGRlY2xpbmF0aW9uIGFuc3dlciBmcm9tIHRoZSBzZXJ2aWNlIHRvIGdlbmVyYXRlIGNvbnRlbnQuXHJcbiAgICAgKlxyXG4gICAgICogQGZ1bmN0aW9uICBwYXJzZURlY2xpXHJcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBkZWNsaSB0aGUgYW5zd2VyIGZyb20gdGhlIHNlcnZpY2VcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIGxhbmcgdGhlIGN1cnJlbnQgbGFuZ3VhZ2VcclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gICB0aGUgZGVjbGluYXRpb24gaW5mb3JtYXRpb24gKG1hZ25ldGljIHtTdHJpbmd9IG1hZ25ldGljIGRlY2xpbmF0aW9uLCBhbm5DaGFuZ2Uge051bWJlcn0gQW5udWFsIGNoYW5nZSwgY29tcGFzcyB7U3RyaW5nfSBDb21wYXNzIGluZm9ybWF0aW9uKVxyXG4gICAgICovXHJcbiAgICBDb29yZEluZm8ucHJvdG90eXBlLnBhcnNlRGVjbGkgPSBmdW5jdGlvbiAoZGVjbGksIGxhbmcpIHtcclxuICAgICAgICAvKiBqc2hpbnQgLVcxMDYgKi9cclxuICAgICAgICAvKiBqc2NzOmRpc2FibGUgcmVxdWlyZUNhbWVsQ2FzZU9yVXBwZXJDYXNlSWRlbnRpZmllcnMgKi9cclxuICAgICAgICB2YXIgbWFnbmV0aWMgPSBkZWNsaS5jb21wb25lbnRzLkQgIT09IG51bGwgPyBcIlwiICsgZGVjbGkuY29tcG9uZW50cy5EICsgU3RyaW5nLmZyb21DaGFyQ29kZSgxNzYpIDogJy0tLSc7XHJcbiAgICAgICAgdmFyIGFubkNoYW5nZSA9IGRlY2xpLmFubnVhbF9jaGFuZ2UuZEQgIT09IG51bGwgPyBkZWNsaS5hbm51YWxfY2hhbmdlLmREIDogJy0tLSc7XHJcbiAgICAgICAgdmFyIGNvbXBhc3MgPSBkZWNsaS5jb21wYXNzICE9PSAndXNlbGVzcycgPyAnJyA6IENvb3JkSW5mby5wcm90b3R5cGUudHJhbnNsYXRpb25zW2xhbmddLnBsdWdpbi5jb29yZEluZm8ubWFnQ29tcGFzc091dDtcclxuICAgICAgICByZXR1cm4geyBtYWduZXRpYzogbWFnbmV0aWMsIGFubkNoYW5nZTogYW5uQ2hhbmdlLCBjb21wYXNzOiBjb21wYXNzIH07XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvb3JkSW5mbztcclxufSgpKTtcclxuQ29vcmRJbmZvLnByb3RvdHlwZS50cmFuc2xhdGlvbnMgPSB7XHJcbiAgICAnZW4tQ0EnOiB7XHJcbiAgICAgICAgY29vcmRCdXR0b25MYWJlbDogJ0Nvb3JkcyBJbmZvJyxcclxuICAgICAgICB0aXRsZTogJ01hcCBsb2NhdGlvbiBpbmZvcm1hdGlvbicsXHJcbiAgICAgICAgY29vcmRTZWN0aW9uOiAnR2VvZ3JhcGhpYyBDb29yZGluYXRlcycsXHJcbiAgICAgICAgY29vcmRMYXQ6ICdMYXRpdHVkZTogJyxcclxuICAgICAgICBjb29yZExvbmc6ICdMb25naXR1ZGU6ICcsXHJcbiAgICAgICAgY29vcmREZWNpbWFsOiAnRGVncmVlcyBEZWNpbWFsOiAnLFxyXG4gICAgICAgIGNvb3JkRE1TOiAnRGVncmVlcyBNaW51dGVzIFNlY29uZHMgKERNUyk6ICcsXHJcbiAgICAgICAgdXRtU2VjdGlvbjogJ1VUTSBDb29yZGluYXRlcycsXHJcbiAgICAgICAgdXRtWm9uZTogJ1pvbmU6ICcsXHJcbiAgICAgICAgdXRtRWFzdDogJ0Vhc3Rpbmc6ICcsXHJcbiAgICAgICAgdXRtTm9ydGg6ICdOb3J0aGluZzogJyxcclxuICAgICAgICBudHNTZWN0aW9uOiAnTlRTIE1hcHNoZWV0JyxcclxuICAgICAgICBhbHRpU2VjdGlvbjogJ0VsZXZhdGlvbicsXHJcbiAgICAgICAgbWFnU2VjdGlvbjogJ01hZ25ldGljIGRlY2xpbmF0aW9uJyxcclxuICAgICAgICBtYWdEYXRlOiAnRGF0ZTogJyxcclxuICAgICAgICBtYWdEZWNsaTogJ01hZ25ldGljIGRlY2xpbmF0aW9uIChERCk6ICcsXHJcbiAgICAgICAgbWFnQ2hhbmdlOiAnQW5udWFsIGNoYW5nZSAobWludXRlcy95ZWFyKTogJyxcclxuICAgICAgICBtYWdEZWNsaU91dDogJy1XQVJOSU5HLSBPdXQgb2Ygc2NvcGUuJyxcclxuICAgICAgICBtYWdDb21wYXNzT3V0OiAnLVdBUk5JTkctIENvbXBhc3MgZXJyYXRpYyBmb3IgdGhpcyBjb29yZGluYXRlLidcclxuICAgIH0sXHJcbiAgICAnZnItQ0EnOiB7XHJcbiAgICAgICAgY29vcmRCdXR0b25MYWJlbDogJ0luZm8gY29vcmRzJyxcclxuICAgICAgICB0aXRsZTogJ0luZm9ybWF0aW9uIGRlIGxvY2FsaXNhdGlvbiBzdXIgbGEgY2FydGUnLFxyXG4gICAgICAgIGNvb3JkU2VjdGlvbjogJ0Nvb3Jkb25uw6llcyBnw6lvZ3JhcGhpcXVlcycsXHJcbiAgICAgICAgY29vcmRMYXQ6ICdMYXRpdHVkZSA6ICcsXHJcbiAgICAgICAgY29vcmRMb25nOiAnTG9uZ2l0dWRlIDogJyxcclxuICAgICAgICBjb29yZERlY2ltYWw6ICdEZWdyw6lzIGTDqWNpbWF1eCA6ICcsXHJcbiAgICAgICAgY29vcmRETVM6ICdEZWdyw6lzIG1pbnV0ZXMgc2Vjb25kZXMgKERNUykgOiAnLFxyXG4gICAgICAgIHV0bVNlY3Rpb246ICdDb29yZG9ubsOpZXMgVVRNJyxcclxuICAgICAgICB1dG1ab25lOiAnWm9uZSA6ICcsXHJcbiAgICAgICAgdXRtRWFzdDogJ0Fic2Npc3NlIDogJyxcclxuICAgICAgICB1dG1Ob3J0aDogJ09yZG9ubsOpZSA6ICcsXHJcbiAgICAgICAgbnRzU2VjdGlvbjogJ0NhcnRlIGR1IFNOUkMnLFxyXG4gICAgICAgIGFsdGlTZWN0aW9uOiAnw4lsw6l2YXRpb24nLFxyXG4gICAgICAgIG1hZ1NlY3Rpb246ICdEw6ljbGluYWlzb24gbWFnbsOpdGlxdWUnLFxyXG4gICAgICAgIG1hZ0RhdGU6ICdEYXRlIDogJyxcclxuICAgICAgICBtYWdEZWNsaTogJ0TDqWNsaW5haXNvbiBtYWduw6l0aXF1ZSAoREQpIDogJyxcclxuICAgICAgICBtYWdDaGFuZ2U6ICdDaGFuZ2VtZW50IGFubnVlbCAobWludXRlcy9hbm7DqWUpIDogJyxcclxuICAgICAgICBtYWdEZWNsaU91dDogJy1BVFRFTlRJT04tIEhvcnMgZGUgcG9ydMOpZS4nLFxyXG4gICAgICAgIG1hZ0NvbXBhc3NPdXQ6ICctQVRURU5USU9OLSBCb3Vzc29sZSBwZXUgZmlhYmxlIHBvdXIgY2V0dGUgY29vcmRvbm7DqWUuJ1xyXG4gICAgfVxyXG59O1xyXG53aW5kb3cuY29vcmRJbmZvID0gQ29vcmRJbmZvO1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ })

/******/ })["default"];