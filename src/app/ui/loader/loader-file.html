<rv-content-pane>
    <div class="rv-loader-file" flow-init="{ singleFile: true }" flow-prevent-drop>

        <rv-stepper-item
            title-value="Upload data"
            summary-value="{{ $flow.files[0].name }}"
            step-number="1"
            is-active="self.steps[0].active"
            is-completed="self.steps[0].complete">

            <div
                flow-drop
                flow-drag-enter="self.dropActive = true"
                flow-drag-leave="self.dropActive = false"
                flow-files-submitted="self.filesSubmitted($files, $event, $flow)"
                flow-file-success="self.fileSuccess($file, $flow)"
                ng-class="{'rv-loader-file-drop': self.dropActive}">

                <span class="md-title rv-loader-file-drop-title" ng-if="self.dropActive">Drop to upload your file</span>

                <md-button
                    ng-if="!self.dropActive"
                    class="rv-button-square rv-loader-file-select-button"
                    flow-btn
                    flow-progress="console.log()">Select a file</md-button>

                <span class="md-caption rv-loader-file-caption">GeoJSON, CSV, and Shapefile data types are supported</span>

                <md-progress-linear md-mode="determinate" value="{{ $flow.files[0] ? $flow.files[0].progress() * 100 : 0 }}"></md-progress-linear>

            </div>
            <!--span class="label label-info">Total Size:
                {{ $flow.getSize() }}bytes</span>

            <table>
                <tr ng-repeat="file in $flow.files">
                    <td>{{$index+1}}</td>
                    <td>{{file.name}}</td>
                    <td>{{file.msg}}</td>
                    <td>{{ file.progress() * 100 }}% Complete</td>
                </tr>
            </table-->

        </rv-stepper-item>

        <rv-stepper-item
            title-value="Double vision"
            step-number="2"
            is-active="self.steps[1].active"
            is-completed="self.steps[1].complete"
            on-complete="self.forward(1)"
            on-cancel="self.back(1)">
            <md-input-container class="md-block">
                <label>Data Type</label>
                <md-select ng-model="self.dataType">
                    <md-option ng-repeat="type in ['one', 'two']" value="{{ type }}">
                        {{ type }}
                    </md-option>
                </md-select>
            </md-input-container>
        </rv-stepper-item>

        <rv-stepper-item
            title-value="Six months"
            step-number="3"
            is-active="self.steps[2].active"
            is-completed="self.steps[2].complete"
            on-complete="self.forward(2)"
            on-cancel="self.back(2)">
            It's in French!
        </rv-stepper-item>

        <!--md-button ng-click="self.expanded = !self.expanded">
            Expand first step</md-button>

        <md-button ng-click="self.expanded2 = !self.expanded2">
            Expand second step</md-button>
        <br/>
        <md-button ng-click="self.completed = !self.completed">
            Complete first step</md-button>

        <md-button ng-click="self.completed2 = !self.completed2">
            Complete second step</md-button-->
    </div>

</rv-main-panel-content>
